# 更新記錄

本文檔記錄本專案的所有重要變更。

格式基於 [Keep a Changelog](https://keepachangelog.com/zh-TW/1.0.0/)，
版本號遵循 [Semantic Versioning](https://semver.org/lang/zh-TW/)。

## [1.0.0] - 2024-11-21

### 🎉 首次發布

英文學習系統 v1.0 正式發布！這是一個功能完整的版本，提供完整的英語學習體驗。

### ✨ 新增功能

#### 核心功能
- **YouTube 影片播放**
  - 支援所有 YouTube 影片格式
  - 使用 YouTube IFrame API 進行播放
  - 支援播放控制（播放、暫停、跳轉）

- **雙語字幕系統**
  - 自動獲取影片字幕
  - 同步顯示英文和中文翻譯
  - 字幕與影片播放時間自動同步
  - 支援字幕時間偏移調整

- **單字查詢功能**
  - 點擊字幕中的單字即可查看詳細資訊
  - 顯示單字的中文翻譯、音標、詞性、定義和例句
  - 支援播放單字和例句的發音
  - 顯示同義詞資訊
  - 支援片語查詢

#### 學習管理功能
- **單字庫管理**
  - 建立多個單字庫
  - 將單字加入單字庫
  - 查看單字庫內容
  - 從單字庫移除單字
  - 匯出/匯入單字庫（JSON 格式）

- **單字複習功能**
  - 隨機顯示單字進行複習
  - 顯示/隱藏答案
  - 記錄學習進度（認識/不認識）
  - 支援播放單字發音
  - 間隔重複學習算法

- **書籤功能**
  - 保存常用影片網址
  - 為書籤命名
  - 快速載入已保存的影片
  - 編輯和刪除書籤
  - 匯出/匯入書籤（JSON 格式）

#### 互動功能
- **單字高亮功能**
  - 根據影片播放進度自動高亮當前單字
  - 平滑的過渡效果，避免閃爍
  - 可通過開關控制開啟/關閉
  - 設置自動保存

- **布局切換功能**
  - 支援左右布局（影片在左，字幕在右）
  - 支援上下布局（影片在上，字幕在下）
  - 自動檢測寬螢幕並建議使用左右布局
  - 響應式設計，小螢幕自動切換為上下布局
  - 布局設置自動保存

#### 字幕控制功能
- **自動滾動**：字幕自動滾動到當前播放位置
- **顯示控制**：可選擇顯示/隱藏英文或中文字幕
- **時間偏移**：調整字幕同步時間（-0.5s / +0.5s / 重置）
- **影片大小**：調整影片顯示大小（小/中/大）
- **字幕行數**：控制字幕顯示區域的行數（1/3/5/10 行）

#### 社群功能
- **學習統計**
  - 追蹤學習時間和進度
  - 學習排行榜（學習時間排名）
  - 複習成績榜（準確率排行）
  - 詳細的學習歷史記錄

- **全局統計資訊**
  - 總用戶數
  - 總學習時長
  - 線上人數

### 🔧 技術特性

- **前端技術**
  - HTML5, CSS3, JavaScript
  - 響應式設計，支援各種螢幕尺寸
  - 平滑的動畫和過渡效果
  - 本地存儲（localStorage）保存用戶設置

- **後端技術**
  - Flask (Python) Web 框架
  - YouTube IFrame API 整合
  - yt-dlp 獲取字幕
  - Google Translate API 翻譯字幕
  - Google Text-to-Speech API 語音合成

- **數據持久化**
  - 影片大小設置
  - 字幕行數設置
  - 布局設置
  - 單字高亮開關
  - 書籤列表
  - 單字庫數據

### 🐛 錯誤修復

- 修復布局按鈕無反應的問題
- 修復 Grid 布局不生效的問題（display 屬性設置錯誤）
- 修復單字高亮閃爍的問題
- 優化事件監聽器的設置時機
- 修復點擊單字後加入單字庫的 UI 顯示問題

### ⚡ 效能優化

- 優化字幕載入流程，不阻塞影片播放
- 優化單字高亮邏輯，減少不必要的 DOM 操作
- 使用事件委託優化按鈕點擊處理
- 改進翻譯進度顯示，實時更新字幕

### 🎨 使用者體驗改進

- 添加翻譯進度條，顯示翻譯進度
- 添加單字載入進度條，點擊單字時顯示載入狀態
- 優化單字高亮的視覺效果
- 改進布局切換的平滑過渡
- 添加調試日誌，方便問題排查
- 改進錯誤提示訊息
- 添加作者資訊 footer

### 📝 文件

- 新增 `USER_GUIDE.md` 使用手冊
- 更新 `README.md` 專案說明
- 新增 `CHANGELOG.md` 更新記錄

### 🔒 已知限制

1. **字幕時間精度**：YouTube 字幕只有句子級別的時間戳，沒有單字級別的時間戳，因此單字高亮使用估算方法
2. **翻譯品質**：翻譯品質取決於 Google Translate 的準確度
3. **網路依賴**：所有功能都需要網路連線
4. **瀏覽器相容性**：某些舊版瀏覽器可能不支援所有功能

### 📋 系統需求

- **瀏覽器**：Chrome、Firefox、Safari 或 Edge（最新版本）
- **網路連線**：需要穩定的網路連線
- **作業系統**：Windows、macOS 或 Linux
- **Python**：3.13 或更新版本（後端）

---

## [未發布]

### 計劃中

- [ ] 支援多語言字幕
- [ ] 添加字幕下載功能


---

**注意**：本文檔會隨著新版本的發布持續更新。請定期查看以了解最新功能和改進。

